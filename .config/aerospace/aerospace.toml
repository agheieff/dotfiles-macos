start-at-login = true
after-login-command = []

after-startup-command = [
	'exec-and-forget sketchybar >> $HOME/.sketchybar/service.log 2>&1',
	'exec-and-forget borders active_color=0xffe1e3e4 inactive_color=0xff494d64 width=5.0',
]

exec-on-workspace-change = [
	'/bin/bash',
	'-c',
	'sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE FOCUSED_DISPLAY=$(aerospace list-monitors --focused | awk "{print $1}")'
]

on-focus-changed = [
	'move-mouse window-lazy-center',
	'exec-and-forget sketchybar --trigger aerospace_focus_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE',
]

on-layout-change = [
	'exec-and-forget sketchybar --trigger window_moved'
]


on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true
accordion-padding = 30
default-root-container-layout = 'tiles'
default-root-container-orientation = 'auto'

[gaps]
inner.horizontal = 10
inner.vertical = 10
outer.left = 10
outer.right = 10
outer.top = [{ monitor.main = 32 }, { monitor.secondary = 32 }, 32]

[mode.main.binding]
# Core Navigation (WARS in Colemak -> WASD physical keys)
alt-w = 'focus up'        # W key (same in both layouts)
alt-a = 'focus left'      # A key (same in both layouts)
alt-r = 'focus down'      # R in Colemak -> S physical key
alt-s = 'focus right'     # S in Colemak -> D physical key

# Move window (WARS in Colemak -> WASD physical keys)
alt-shift-w = 'move up'        # W key (same in both layouts)
alt-shift-a = 'move left'      # A key (same in both layouts)
alt-shift-r = 'move down'      # R in Colemak -> S physical key
alt-shift-s = 'move right'     # S in Colemak -> D physical key

# Resize window (using resize mode instead)
# alt-ctrl keys now used for workspace movement

# Window Management
alt-q = 'close'
alt-t = 'fullscreen'              # F in Colemak -> T physical key
alt-f = 'layout floating tiling'  # T in Colemak -> F physical key
alt-h = 'join-with right'          # H key (same in both layouts)
alt-v = 'join-with down'           # V key (same in both layouts)
alt-k = 'layout tiles accordion'   # E in Colemak -> K physical key
alt-space = 'focus-back-and-forth'

# Workspace navigation
alt-tab = 'workspace next'
alt-shift-tab = 'workspace prev'

# Layout Management
alt-l = 'layout tiles accordion floating'  # Cycle layouts

# Switch to workspace
alt-1 = 'workspace 1'
alt-2 = 'workspace 2'
alt-3 = 'workspace 3'
alt-4 = 'workspace 4'
alt-5 = 'workspace 5'
alt-6 = 'workspace 6'
alt-7 = 'workspace 7'
alt-8 = 'workspace 8'
alt-9 = 'workspace 9'
alt-0 = 'workspace 10'

# Move to workspace
alt-shift-1 = ['move-node-to-workspace 1', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-2 = ['move-node-to-workspace 2', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-3 = ['move-node-to-workspace 3', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-4 = ['move-node-to-workspace 4', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-5 = ['move-node-to-workspace 5', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-6 = ['move-node-to-workspace 6', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-7 = ['move-node-to-workspace 7', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-8 = ['move-node-to-workspace 8', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-9 = ['move-node-to-workspace 9', 'exec-and-forget sketchybar --trigger window_moved']
alt-shift-0 = ['move-node-to-workspace 10', 'exec-and-forget sketchybar --trigger window_moved']

# Move window to adjacent workspace and follow (WARS in Colemak -> WASD physical keys)
alt-ctrl-w = ['move-node-to-monitor up', 'focus-monitor up', 'exec-and-forget sketchybar --trigger window_moved']       # W key (same)
alt-ctrl-a = ['move-node-to-workspace prev', 'workspace prev', 'exec-and-forget sketchybar --trigger window_moved']     # A key (same)
alt-ctrl-r = ['move-node-to-monitor down', 'focus-monitor down', 'exec-and-forget sketchybar --trigger window_moved']   # R -> S physical
alt-ctrl-s = ['move-node-to-workspace next', 'workspace next', 'exec-and-forget sketchybar --trigger window_moved']     # S -> D physical

# Move and follow to workspace by number
alt-ctrl-1 = ['move-node-to-workspace 1', 'workspace 1', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-2 = ['move-node-to-workspace 2', 'workspace 2', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-3 = ['move-node-to-workspace 3', 'workspace 3', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-4 = ['move-node-to-workspace 4', 'workspace 4', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-5 = ['move-node-to-workspace 5', 'workspace 5', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-6 = ['move-node-to-workspace 6', 'workspace 6', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-7 = ['move-node-to-workspace 7', 'workspace 7', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-8 = ['move-node-to-workspace 8', 'workspace 8', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-9 = ['move-node-to-workspace 9', 'workspace 9', 'exec-and-forget sketchybar --trigger window_moved']
alt-ctrl-0 = ['move-node-to-workspace 10', 'workspace 10', 'exec-and-forget sketchybar --trigger window_moved']

# System
alt-shift-slash = 'reload-config'

# Modes
alt-rightSquareBracket = 'mode resize'

[mode.resize.binding]
# Resize mode (WARS in Colemak -> WASD physical keys)
w = 'resize height -50'    # W key (same in both layouts)
a = 'resize width -50'     # A key (same in both layouts)
r = 'resize height +50'    # R in Colemak -> S physical key
s = 'resize width +50'     # S in Colemak -> D physical key
esc = 'mode main'
enter = 'mode main'

[workspace-to-monitor-force-assignment]
1 = 'main'
2 = 'secondary'

# Remove the key mapping section entirely - let macOS handle Colemak
# Aerospace will use the actual key codes sent by the OS
